let navHeight=document.querySelector("nav").offsetHeight||89,tocMapHeadTag=new Map,headTagMapToc=new Map;const allHeads=document.querySelectorAll(".head-tag"),startNodeLists=document.querySelectorAll("#TableOfContents > ul > li"),nodeListsCache=[];startNodeLists.forEach(e=>{findNextNodeLists(e,0,nodeListsCache)});function findNextNodeLists(e,t,n){if(t>=10)return;const s=e.querySelectorAll("ul > li");if(s.length>0&&(n[t]=s),t===0)hyperLinkNodeAddClass(e,"theme-toc"),hyperLinkNodeAddEvent(e),findTocMapHeadTag(e);else if(s.length===0&&t>0){let n=`theme-toc-nest-${t*1}`;hyperLinkNodeAddClass(e,`theme-toc ${n}`),hyperLinkNodeAddEvent(e),findTocMapHeadTag(e)}t+=1,s.forEach(e=>findNextNodeLists(e,t,n))}function hyperLinkNodeAddClass(e,t){const n=e.querySelector("a");t.split(" ").forEach(e=>{n.classList.add(e)})}function hyperLinkNodeAddEvent(e){const t=e.querySelector("a");t.href="",t.addEventListener("click",tocOnClick)}function findTocMapHeadTag(e){const t=e.querySelector("a");allHeads.forEach(e=>{e.innerText===t.innerText&&(tocMapHeadTag.set(t,e),headTagMapToc.set(e,t))})}function tocOnClick(e){e.preventDefault();let t=e.target;t.nodeName!=="A"&&(t=t.parentElement),removeAllActive(),onActive(t);const n=tocMapHeadTag.get(t),s=document.getElementById(`${n.id}`);window.scrollTo({top:s.offsetTop-100,behavior:"smooth"})}function onActive(e){e.nodeName==="A"&&(e.classList.remove("theme-toc"),e.classList.add("theme-toc-active"))}function disableActive(e){e.nodeName==="A"&&(e.classList.remove("theme-toc-active"),e.classList.add("theme-toc"))}function removeAllActive(){const e=document.querySelectorAll(".theme-toc-active");e.forEach(e=>{disableActive(e)})}let intersectionEles=[];const intersectionObserver=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&intersectionEles.push(e.target),!e.isIntersecting){const t=intersectionEles.indexOf(e.target);t!==-1&&intersectionEles.splice(t,1)}});let n=Number.MAX_VALUE,t=null;intersectionEles.length>0&&intersectionEles.forEach(e=>{e.offsetTop<=n&&(n=e.offsetTop,t=e)}),t&&headTagMapToc.get(t)&&(removeAllActive(),onActive(headTagMapToc.get(t)))},{rootMargin:`-${navHeight}px 0px 0px 0px`,threshold:1});allHeads.forEach(e=>{intersectionObserver.observe(e)})